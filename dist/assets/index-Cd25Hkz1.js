import{r as a,M as fe,j as e,i as je,e as re,P as we,g as Ne,h as ve,L as ke,c as k,u as M,m as N,W as se,f as Ce,A as Q,a as B,F as oe,k as $e,l as De,n as ae,s as Se,R as ce,T as _e,d as Me,C as Pe,b as Ae}from"./globals-BWL78zEJ.js";class Re extends a.Component{getSnapshotBeforeUpdate(l){const s=this.props.childRef.current;if(s&&l.isPresent&&!this.props.isPresent){const o=s.offsetParent,h=je(o)&&o.offsetWidth||0,n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft,n.right=h-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Fe({children:t,isPresent:l,anchorX:s,root:o}){const h=a.useId(),n=a.useRef(null),i=a.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=a.useContext(fe);return a.useInsertionEffect(()=>{const{width:m,height:d,top:p,left:g,right:f}=i.current;if(l||!n.current||!m||!d)return;const c=s==="left"?`left: ${g}`:`right: ${f}`;n.current.dataset.motionPopId=h;const x=document.createElement("style");y&&(x.nonce=y);const u=o??document.head;return u.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${h}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${d}px !important;
            ${c}px !important;
            top: ${p}px !important;
          }
        `),()=>{u.contains(x)&&u.removeChild(x)}},[l]),e.jsx(Re,{isPresent:l,childRef:n,sizeRef:i,children:a.cloneElement(t,{ref:n})})}const ze=({children:t,initial:l,isPresent:s,onExitComplete:o,custom:h,presenceAffectsLayout:n,mode:i,anchorX:y,root:m})=>{const d=re(Le),p=a.useId();let g=!0,f=a.useMemo(()=>(g=!1,{id:p,initial:l,isPresent:s,custom:h,onExitComplete:c=>{d.set(c,!0);for(const x of d.values())if(!x)return;o&&o()},register:c=>(d.set(c,!1),()=>d.delete(c))}),[s,d,o]);return n&&g&&(f={...f}),a.useMemo(()=>{d.forEach((c,x)=>d.set(x,!1))},[s]),a.useEffect(()=>{!s&&!d.size&&o&&o()},[s]),i==="popLayout"&&(t=e.jsx(Fe,{isPresent:s,anchorX:y,root:m,children:t})),e.jsx(we.Provider,{value:f,children:t})};function Le(){return new Map}const W=t=>t.key||"";function ie(t){const l=[];return a.Children.forEach(t,s=>{a.isValidElement(s)&&l.push(s)}),l}const L=({children:t,custom:l,initial:s=!0,onExitComplete:o,presenceAffectsLayout:h=!0,mode:n="sync",propagate:i=!1,anchorX:y="left",root:m})=>{const[d,p]=Ne(i),g=a.useMemo(()=>ie(t),[t]),f=i&&!d?[]:g.map(W),c=a.useRef(!0),x=a.useRef(g),u=re(()=>new Map),[j,w]=a.useState(g),[b,$]=a.useState(g);ve(()=>{c.current=!1,x.current=g;for(let C=0;C<b.length;C++){const v=W(b[C]);f.includes(v)?u.delete(v):u.get(v)!==!0&&u.set(v,!1)}},[b,f.length,f.join("-")]);const S=[];if(g!==j){let C=[...g];for(let v=0;v<b.length;v++){const D=b[v],A=W(D);f.includes(A)||(C.splice(v,0,D),S.push(D))}return n==="wait"&&S.length&&(C=S),$(ie(C)),w(g),null}const{forceRender:P}=a.useContext(ke);return e.jsx(e.Fragment,{children:b.map(C=>{const v=W(C),D=i&&!d?!1:g===b||f.includes(v),A=()=>{if(u.has(v))u.set(v,!0);else return;let _=!0;u.forEach(R=>{R||(_=!1)}),_&&(P==null||P(),$(x.current),i&&(p==null||p()),o&&o())};return e.jsx(ze,{isPresent:D,initial:!c.current||s?void 0:!1,custom:l,presenceAffectsLayout:h,mode:n,root:m,onExitComplete:D?void 0:A,anchorX:y,children:C},v)})})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ie=k("arrow-left",Te);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Be=k("arrow-right",Ee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ue=k("chevron-down",Oe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],We=k("chevron-left",He);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ee=k("circle-check-big",Ve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],de=k("circle-x",Ge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ke=k("dollar-sign",qe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Ze=k("inbox",Xe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],le=k("info",Ye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Qe=k("layout-dashboard",Je);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ne=k("loader-circle",et);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],st=k("mic",tt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],it=k("moon",at);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xe=k("plus",lt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],E=k("refresh-cw",nt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ot=k("search",rt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],he=k("server",ct);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xt=k("settings",dt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],mt=k("sun",ht);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gt=k("trash-2",pt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],me=k("triangle-alert",ut);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],O=k("x",yt),bt=()=>{const{theme:t,toggleTheme:l,loading:s}=M(),[o,h]=a.useState(null);return a.useEffect(()=>{(async()=>{const i=await Q.getWalletAddress();h(i)})()},[]),s?null:e.jsx("header",{className:`${t==="light"?"bg-gray-100 border-gray-200":"bg-gray-900 border-gray-800"} shadow-sm border-b`,children:e.jsxs("div",{className:"flex justify-between py-4 px-3",children:[e.jsxs(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"flex justify-center gap-2",children:[e.jsx("div",{className:"text-4xl",children:e.jsx("svg",{className:"text-[#FF4444] size-12",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{clipRule:"evenodd",d:"M24 4H6V17.3333V30.6667H24V44H42V30.6667V17.3333H24V4Z",fill:"currentColor",fillRule:"evenodd"})})}),e.jsx("h2",{className:`${t==="light"?"text-black":"text-white"} font-bold text-4xl`,children:"Jarvis"})]}),e.jsx("div",{className:"relative",children:e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-center gap-4 items-center",children:[e.jsxs("div",{className:`flex ${t==="light"?"bg-gray-400":"bg-gray-800"} cursor-pointer items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-bold tracking-[0.015em] transition-colors hover:bg-opacity-80`,children:[e.jsx(se,{size:24,className:"text-cyan-800"}),e.jsx("span",{className:`truncate ${t==="light"?"text-black":"text-white"}`,children:Ce(o)})]}),e.jsx("button",{onClick:l,className:"cursor-pointer flex items-center justify-center rounded-full p-2 transition bg-gray-300 dark:bg-gray-700",children:t==="light"?e.jsx(mt,{size:24,className:"text-yellow-500"}):e.jsx(it,{size:24,className:"text-blue-400"})})]})})]})})},pe=()=>{const[t,l]=a.useState(window.location.hash.slice(1)||"home");return a.useEffect(()=>{const o=()=>{l(window.location.hash.slice(1)||"home")};return window.addEventListener("hashchange",o),()=>window.removeEventListener("hashchange",o)},[]),{currentRoute:t,navigate:o=>{window.location.hash=o}}},V=({children:t})=>e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black/50 backdrop-blur flex items-center justify-center",children:e.jsx("div",{className:"",children:t})}),ge=({isOPen:t,onClose:l,onAlert:s})=>{const{createDeployment:o,estimatePricing:h,loading:n}=B(),[i,y]=a.useState(1),[m,d]=a.useState(null),[p,g]=a.useState(!1),[f,c]=a.useState(null),[x,u]=a.useState(!1),[j,w]=a.useState("nginx:latest"),[b,$]=a.useState(1),[S,P]=a.useState(512),[C,v]=a.useState("MB"),[D,A]=a.useState(1),[_,R]=a.useState("GB"),[F,q]=a.useState("80"),[z,U]=a.useState(10),[I,K]=a.useState("USD"),[T]=a.useState([{id:1,value:"hosting",tag:"Hosting"},{id:2,value:"database",tag:"Database"},{id:3,value:"compute",tag:"Compute"},{id:4,value:"kubernetes",tag:"Kubernetes"}]),X=()=>y(r=>Math.min(r+1,4)),Z=()=>y(r=>Math.max(r-1,1));a.useEffect(()=>{i===3&&m&&Y()},[i,b,S,C,D,_]);const Y=async()=>{u(!0);const r=await h({cpu:b,memory:`${S}${C}`,storage:`${D}${_}`});r&&(c(r.pricing.estimated_monthly_cost_usd),U(r.pricing.estimated_monthly_cost_usd)),u(!1)},J=async()=>{g(!0);const r={image:j,cpu:b,memory:`${S}${C}`,storage:`${D}${_}`,ports:F.split(",").map(be=>parseInt(be.trim())),payment_amount:z,payment_currency:I},H=await o(r);g(!1),H?(l(),s("success",`Deployment created successfully! ID: ${H.deployment_id}`)):s("error","Failed to create deployment. Please try again.")};return e.jsx(L,{children:t&&e.jsx(V,{children:e.jsxs(N.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},className:"w-[500px] max-w-4xl h-[550px] border-black/10 text-white bg-gray-900 opacity-5 flex flex-col  glassmorphism-card overflow-hidden border shadow-xl rounded-xl duration-300",children:[e.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:"Create New Deployment"}),e.jsx("button",{onClick:l,className:"text-white/50 hover:text-white transition-colors",children:e.jsx(O,{size:24})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("p",{className:"text-sm font-medium text-white/70",children:["Step ",i," of 4"]})}),e.jsx("div",{className:"w-full bg-gray-900 rounded-full h-2",children:e.jsx(N.div,{className:"bg-[#00D2FF] h-2 rounded-full",initial:{width:0},animate:{width:`${i/4*100}%`},transition:{duration:.4}})})]}),e.jsx("main",{className:"flex-grow p-6 overflow-y-auto",children:e.jsxs(L,{mode:"wait",children:[i===1&&e.jsxs(N.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4},children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Select Deployment Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:T.map(r=>e.jsxs("label",{className:"group relative cursor-pointer",children:[e.jsx("input",{name:"deployment_type",type:"radio",className:"sr-only peer",value:r.value,checked:m===r.value,onChange:()=>d(r.value)}),e.jsx("div",{className:`p-6 flex justify-center rounded-lg text-center border-2 transition-all duration-300
                            ${m===r.value?"border-cyan-200 bg-gray-900/50":"border-transparent bg-gray-900"} group-hover:border-cyan-200`,children:e.jsx("p",{className:"font-bold text-lg text-white",children:r.tag})})]},r.id))})]},"step1"),i===2&&e.jsxs(N.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4},children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Deployment Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Image"}),e.jsx("input",{value:j,onChange:r=>w(r.target.value),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",placeholder:"nginx:latest"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"CPU Cores"}),e.jsx("input",{type:"number",step:"0.1",value:b,onChange:r=>$(parseFloat(r.target.value)),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white"})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Memory"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:S,onChange:r=>P(parseFloat(r.target.value)),className:"flex-1 px-3 py-2 rounded bg-gray-900 border border-white/10 text-white"}),e.jsxs("select",{value:C,onChange:r=>v(r.target.value),className:"px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",children:[e.jsx("option",{value:"MB",children:"MB"}),e.jsx("option",{value:"GB",children:"GB"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Storage"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:D,onChange:r=>A(parseFloat(r.target.value)),className:"flex-1 px-3 py-2 rounded bg-gray-900 border border-white/10 text-white"}),e.jsxs("select",{value:_,onChange:r=>R(r.target.value),className:"px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",children:[e.jsx("option",{value:"MB",children:"MB"}),e.jsx("option",{value:"GB",children:"GB"}),e.jsx("option",{value:"TB",children:"TB"})]})]})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Ports"}),e.jsx("input",{value:F,onChange:r=>q(r.target.value),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",placeholder:"80, 443"})]})]})]})]},"step2"),i===3&&e.jsxs(N.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4},children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Payment Information"}),x&&e.jsx("div",{className:"mb-4 p-3 bg-cyan-500/10 border border-cyan-500/30 rounded text-cyan-300 text-sm",children:"Calculating estimated price..."}),f!==null&&!x&&e.jsxs("div",{className:"mb-4 p-3 bg-cyan-500/10 border border-cyan-500/30 rounded",children:[e.jsx("p",{className:"text-cyan-300 text-sm",children:"Estimated monthly cost"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",f.toFixed(2)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",value:z,onChange:r=>U(parseFloat(r.target.value)),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Currency"}),e.jsxs("select",{value:I,onChange:r=>K(r.target.value),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]})]})]},"step3"),i===4&&e.jsxs(N.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4},children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Review & Confirm"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg text-white/80 space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Type:"})," ",m]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Image:"})," ",j]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"CPU:"})," ",b," cores"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Memory:"})," ",S,C]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Storage:"})," ",D,_]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Ports:"})," ",F]}),e.jsxs("p",{className:"pt-2 border-t border-white/10",children:[e.jsx("span",{className:"font-bold text-white",children:"Payment:"})," ",z.toFixed(2)," ",I]})]})})]},"step4")]})}),e.jsxs("footer",{className:"flex items-center justify-between p-5 border-t border-white/10",children:[e.jsx("button",{onClick:l,disabled:p,className:"px-6 py-2 rounded-lg text-white font-bold bg-transparent border border-white/20 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:Z,disabled:i===1||p,className:`px-6 py-2 rounded-lg font-bold ${i===1?"text-white/50 bg-gray-900 cursor-not-allowed":"text-white bg-transparent border border-white/20 hover:bg-white/10"}`,children:"Previous"}),i===4?e.jsx("button",{onClick:J,disabled:p,className:"px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-black bg-[#00D2FF] hover:bg-[#00D2FF] hover:text-white shadow-lg shadow-cyan-200/20 disabled:opacity-50",children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deploying..."]}):"Deploy"}):e.jsx("button",{onClick:X,disabled:i===1&&!m,className:`px-6 py-2 rounded-lg font-bold ${i===1&&!m?"text-white/50 bg-gray-900 cursor-not-allowed":"text-black bg-[#00D2FF] hover:bg-[#00D2FF] hover:text-white shadow-lg shadow-cyan-200/20"}`,children:"Next"})]})]})]},"modal")})})},G=({type:t,message:l,isOpen:s,onClose:o})=>{const h={success:"bg-green-500/20 border-green-500/30 text-green-400",error:"bg-red-500/20 border-red-500/30 text-red-400",info:"bg-blue-500/20 border-blue-500/30 text-blue-400"},n={success:e.jsx(ee,{size:20}),error:e.jsx(de,{size:20}),info:e.jsx(le,{size:20})},i=h[t]||"bg-gray-500/20 border-gray-500/30 text-gray-400",y=n[t]||e.jsx(le,{size:20});return e.jsx(L,{children:s&&e.jsx(N.div,{initial:{opacity:0,x:500},animate:{opacity:1,x:0},exit:{opacity:0,x:500},transition:{duration:.4},className:`fixed top-[80px] right-[150px] px-4 py-3 rounded-lg backdrop-blur border shadow-lg ${i}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[y,e.jsx("span",{className:"font-medium flex-1",children:l}),e.jsx("button",{onClick:o,className:"hover:opacity-80 transition","aria-label":"Close",children:e.jsx(O,{size:18})})]})})})},ue=()=>{const{theme:t,toggleTheme:l,loading:s}=M();return s?null:e.jsx("div",{children:e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:`glassmorphism-card ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} overflow-hidden rounded-xl border shadow-lg`,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:`flex items-center gap-4 border-b border-white/10 ${t==="light"?"border-black/10 hover:bg-black/5":"border-white/10 hover:bg-white/5"} p-4 transition-colors `,children:[e.jsx("div",{className:`flex h-12 w-12 shrink-0 items-center justify-center rounded-lg ${t==="light"?"bg-gray-400":"bg-[#1A1B3A]"}  text-[#00D2FF]`,children:e.jsx(he,{size:26,className:"text-[#00D2FF]"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:`text-base font-medium ${t==="light"?"text-black":"text-white"}`,children:"Deployment #123"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Deployment created successfully"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"2 min ago"})]}),e.jsxs("div",{className:`flex items-center gap-4 border-b border-white/10 ${t==="light"?"border-black/10 hover:bg-black/5":"border-white/10 hover:bg-white/5"} p-4 transition-colors `,children:[e.jsx("div",{className:`flex h-12 w-12 shrink-0 items-center justify-center rounded-lg ${t==="light"?"bg-gray-400":"bg-[#1A1B3A]"}  text-[#00D2FF]`,children:e.jsx(E,{size:26,className:"text-[#00D2FF]"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:`text-base font-medium ${t==="light"?"text-black":"text-white"}`,children:"Deployment #456"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Deployment updated"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"1 hour ago"})]}),e.jsxs("div",{className:`flex items-center gap-4 border-b border-white/10 ${t==="light"?"border-black/10 hover:bg-black/5":"border-white/10 hover:bg-white/5"} p-4 transition-colors `,children:[e.jsx("div",{className:`flex h-12 w-12 shrink-0 items-center justify-center rounded-lg ${t==="light"?"bg-gray-400":"bg-[#1A1B3A]"}  text-[#00D2FF]`,children:e.jsx(gt,{size:26,className:"text-red-500"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:`text-base font-medium ${t==="light"?"text-black":"text-white"}`,children:"Deployment #789"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Deployment deleted"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"1 day ago"})]})]})})})},ft=oe.AUDIO_MAX_DURATION,jt=oe.AUDIO_MAX_SIZE,wt=(t,l,s)=>{const[o,h]=a.useState({isRecording:!1,duration:0,error:null,permissionGranted:!1}),n=a.useRef(null),i=a.useRef(null),y=a.useRef([]),m=a.useRef(null),d=a.useRef(null),p=a.useCallback(()=>{m.current&&(clearInterval(m.current),m.current=null),d.current&&(clearTimeout(d.current),d.current=null),i.current&&(i.current.getTracks().forEach(c=>c.stop()),i.current=null),n.current&&(n.current=null)},[]),g=a.useCallback(async()=>{try{const c=await navigator.mediaDevices.getUserMedia({audio:!0});i.current=c,y.current=[];const x=new MediaRecorder(c);n.current=x,x.ondataavailable=u=>{u.data.size>0&&y.current.push(u.data)},x.onstop=()=>{const u=new Blob(y.current,{type:"audio/wav"});if(u.size>jt){const j=`Recording too large: ${(u.size/1024/1024).toFixed(2)}MB`;console.error("error",j),h(w=>({...w,error:j})),s==null||s(j)}else l==null||l(u);p()},x.onerror=u=>{var w;const j=`Recording error: ${((w=u.error)==null?void 0:w.message)||"Unknown error"}`;console.error("error",j),h(b=>({...b,error:j,isRecording:!1})),s==null||s(j),p()},x.start(),h(u=>({...u,isRecording:!0,duration:0,permissionGranted:!0,error:null})),m.current=setInterval(()=>{h(u=>({...u,duration:u.duration+1e3}))},1e3),d.current=setTimeout(()=>{f()},ft)}catch(c){let x="Failed to start recording";c instanceof Error&&(c.message.includes("Permission denied")||c.message.includes("NotAllowed")?x="Microphone permission denied":c.message.includes("NotFound")?x="No microphone found":x=c.message),console.error("error",x),h(u=>({...u,error:x,isRecording:!1,permissionGranted:!1})),s==null||s(x)}},[o.duration,l,s,p]),f=a.useCallback(()=>{n.current&&o.isRecording&&(n.current.stop(),h(c=>({...c,isRecording:!1})))},[o.isRecording]);return a.useEffect(()=>{t!==void 0&&(t&&!o.isRecording?g():!t&&o.isRecording&&f())},[t,o.isRecording,g,f]),a.useEffect(()=>p,[p]),{...o,startRecording:g,stopRecording:f}},Nt=({onVoiceCommandResult:t})=>{const{theme:l,loading:s}=M(),{listDeployments:o,processVoiceCommand:h}=B(),[n,i]=a.useState(!1),[y,m]=a.useState(0),[d,p]=a.useState(null);a.useEffect(()=>{(async()=>{const u=await o();u!=null&&u.deployments&&m(u.deployments.length)})()},[]);const{duration:g,error:f,permissionGranted:c}=wt(n,async x=>{console.log("Recording saved!",x),i(!1),p("Processing voice command...");const u=new File([x],"voice.wav",{type:"audio/wav"}),j=await h(u);j?(p("Command processed successfully!"),t&&t(j.raw_text,j),setTimeout(()=>{p(null)},2e3)):(p("Failed to process command."),setTimeout(()=>{p(null)},3e3))},x=>{console.error("Recording error:",x),p("Recording error."),setTimeout(()=>{p(null)},3e3)});return a.useEffect(()=>{g>=3e4&&n&&i(!1)},[g,n]),s?null:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[e.jsxs(N.div,{initial:{opacity:0,y:26},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1},whileHover:{y:-10},className:`glassmorphism-card ${l==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} col-span-1 flex flex-col items-center justify-center rounded-xl border  p-6 shadow-lg`,children:[e.jsx("h3",{className:`text-lg font-medium ${l==="light"?"text-gray-900":"text-gray-300"}`,children:"AKT Balance"}),e.jsx("p",{className:"text-2xl font-bold tracking-tight text-[#00D2FF]",children:"123.45 AKT"})]}),e.jsx(N.div,{initial:{opacity:0,y:23},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1},whileHover:{y:-10},className:`glassmorphism-card ${l==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} flex justify-center item-center rounded-xl border p-6 shadow-lg`,children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("p",{className:`text-base font-medium ${l==="light"?"text-gray-900":"text-gray-300"}`,children:"Total Deployments"}),e.jsx("p",{className:`text-2xl font-bold ${l==="light"?"text-gray-600":"text-white"}`,children:y})]})}),e.jsx(N.div,{initial:{opacity:0,y:26},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1},whileHover:{y:-10},className:`glassmorphism-card ${l==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} col-span-1 flex items-center justify-center rounded-xl border  p-6 shadow-lg`,children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("button",{onClick:()=>i(!n),disabled:!!(f&&!c),className:`group flex h-20 w-20 items-center justify-center rounded-full bg-[#00D2FF] transition-all duration-300 hover:scale-110 ${n?"animate-pulse":""} disabled:opacity-50 disabled:cursor-not-allowed`,children:e.jsx(st,{size:32,className:"text-gray-800"})}),n&&e.jsx("p",{className:"mt-2 text-sm text-center",children:d||"Listening..."}),!n&&d&&e.jsx("p",{className:`mt-2 text-sm text-center ${d.includes("success")?"text-green-400":d.includes("Failed")||d.includes("error")?"text-red-400":""}`,children:d}),!n&&!d&&e.jsx("p",{className:"mt-2 text-xs text-gray-500 text-center",children:"Click to start recording"})]})})]})})},vt=({isOPen:t,text:l,result:s,onClose:o})=>{var d,p,g,f,c;const h=((d=s==null?void 0:s.command)==null?void 0:d.action)||"N/A",n=((p=s==null?void 0:s.command)==null?void 0:p.image)||"N/A",i=((g=s==null?void 0:s.result)==null?void 0:g.status)||(s==null?void 0:s.status)||"N/A",y=((f=s==null?void 0:s.result)==null?void 0:f.deployment_id)||"N/A",m=((c=s==null?void 0:s.result)==null?void 0:c.message)||"";return e.jsx(L,{children:t&&e.jsx(V,{children:e.jsxs(N.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},className:"w-[500px] max-w-4xl h-[550px] flex flex-col glassmorphism-card overflow-hidden border border-white/10 shadow-2xl rounded-xl duration-300",children:[e.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:"Voice Command Result"}),e.jsx("button",{onClick:o,className:"text-white/50 hover:text-white transition-colors disabled:opacity-50",children:e.jsx(O,{size:24})})]}),e.jsxs("main",{className:"flex-grow p-6 overflow-y-auto text-white space-y-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-white/50 mb-1",children:"Voice Input"}),e.jsx("p",{className:"font-mono text-sm bg-white/5 p-3 rounded-lg border border-white/10",children:l||"No text provided"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs uppercase text-white/50 mb-2",children:"Command Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Action"}),e.jsx("p",{className:"font-mono text-sm",children:h})]}),e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Image"}),e.jsx("p",{className:"font-mono text-sm",children:n})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs uppercase text-white/50 mb-2",children:"Deployment Result"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Status"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${i==="success"?"bg-green-500 text-white":"bg-yellow-500 text-gray-900"}`,children:i})]}),y!=="N/A"&&e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Deployment ID"}),e.jsx("p",{className:"font-mono text-xs break-all",children:y})]}),m&&e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Message"}),e.jsx("p",{className:"text-sm",children:m})]})]})]})]}),e.jsx("footer",{className:"flex items-center justify-between p-5 border-t border-white/10",children:e.jsx("button",{onClick:o,className:"px-6 py-2 rounded-lg text-white font-bold bg-transparent border border-white/20 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Close"})})]},"modal")})})},kt=()=>{const{theme:t,loading:l}=M(),[s,o]=a.useState(!1),[h,n]=a.useState(!1),[i,y]=a.useState(null),[m,d]=a.useState(null);if(l)return null;const p=(c,x)=>{y({type:c,message:x}),setTimeout(()=>y(null),5e3)},g=(c,x)=>{d({rawText:c,result:x}),n(!0)},f=()=>{n(!1),setTimeout(()=>d(null),300)};return e.jsxs("div",{className:"flex-1 overflow-y-auto p-10",children:[e.jsx(Nt,{onVoiceCommandResult:g}),e.jsxs(N.div,{initial:{opacity:0,y:26},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mt-8 flex items-center justify-between",children:[e.jsx("h2",{className:`text-2xl font-bold tracking-[-0.015em] ${t==="light"?"text-black":"text-white"}`,children:"Recent Activity"}),e.jsxs("button",{onClick:()=>o(!0),className:"flex min-w-[84px] cursor-pointer items-center justify-center gap-2 overflow-hidden rounded-xl bg-[#00D2FF] h-12 px-6 text-base font-bold tracking-[0.015em] text-black transition-transform hover:scale-105",children:[e.jsx(xe,{size:26}),e.jsx("span",{className:"truncate",children:"Add New Deployment"})]})]}),e.jsx("div",{className:"mt-4 flow-root",children:e.jsx("div",{className:"-my-2 overflow-x-auto",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle",children:e.jsx(ue,{})})})}),e.jsx(ge,{isOPen:s,onClose:()=>o(!1),onAlert:p}),e.jsx(vt,{isOPen:h,onClose:f,text:(m==null?void 0:m.rawText)||"",result:(m==null?void 0:m.result)||null}),e.jsx(G,{isOpen:!!i,onClose:()=>y(null),type:(i==null?void 0:i.type)||"",message:(i==null?void 0:i.message)||""})]})},ye=({isOPen:t,onClose:l,image:s,deployment_id:o,onAlert:h})=>{const{terminateDeployment:n,loading:i}=B(),[y,m]=a.useState(!1),d=async()=>{m(!0);const p=await n(o);m(!1),p?(l(),h("success",`Deployment ${p.deployment_id} terminated successfully!`)):h("error","An error occurred. Please try again later!")};return e.jsx(L,{children:t&&e.jsx(V,{children:e.jsxs(N.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},className:"w-[400px] max-w-4xl h-[400px] flex flex-col glassmorphism-card overflow-hidden border border-white/10 shadow-2xl rounded-xl duration-300",children:[e.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:"Delete Deployment"}),e.jsx("button",{onClick:l,disabled:y,className:"text-white/50 hover:text-white transition-colors disabled:opacity-50",children:e.jsx(O,{size:24})})]}),e.jsxs("main",{className:"flex-grow p-6 overflow-y-auto text-white space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3 bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg",children:[e.jsx(me,{size:20,className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:"You are about to permanently delete this deployment. This action cannot be undone."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-white/50",children:"Image"}),e.jsx("p",{className:"font-mono text-sm",children:s})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-white/50",children:"Deployment ID"}),e.jsx("p",{className:"font-mono text-sm",children:o})]})]})]}),e.jsxs("footer",{className:"flex items-center justify-between p-5 border-t border-white/10",children:[e.jsx("button",{onClick:l,disabled:y,className:"px-6 py-2 rounded-lg text-white font-bold bg-transparent border border-white/20 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:d,disabled:y,className:"px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-white bg-red-500 hover:bg-red-600 shadow-lg shadow-red-200/20 disabled:opacity-50",children:y?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):"Delete"})]})]},"modal")})})},Ct=({setIsDeploymentId:t,deploymentId:l})=>{const{theme:s,loading:o}=M(),{getDeploymentStatus:h,loading:n}=B(),[i,y]=a.useState(null),[m,d]=a.useState(!1),[p,g]=a.useState(null),[f,c]=a.useState(!1);a.useEffect(()=>{l&&x()},[l]);const x=async()=>{if(!l)return;const b=await h(l);b?y(b):j("error","Failed to load deployment details")},u=async()=>{c(!0),await x(),c(!1),j("success","Deployment details refreshed")},j=(b,$)=>{g({type:b,message:$}),setTimeout(()=>g(null),1e4)},w=()=>{j("success","Deployment deleted successfully"),setTimeout(()=>{t(!1)},1500)};return o?null:e.jsxs("main",{className:"flex-1 p-4 flex flex-col",children:[e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{onClick:()=>t(!1),className:`${s==="light"?"text-black":"text-white"} cursor-pointer hover:opacity-70 transition-opacity`,children:e.jsx(We,{size:35})}),e.jsx("button",{onClick:u,disabled:f||n,className:"p-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",title:"Refresh deployment details",children:e.jsx(E,{size:20,className:`${s==="light"?"text-black":"text-white"} ${f?"animate-spin":""}`})})]}),e.jsxs("h2",{className:`text-2xl font-bold ${s==="light"?"text-black":"text-white"}`,children:["Deployment",e.jsxs("span",{className:"text-gray-500 text-xl ml-2",children:["(",l,")"]})]})]}),n&&!i&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(E,{size:32,className:"animate-spin text-[#00D2FF]"})}),i&&e.jsx("section",{children:e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`glassmorphism-card p-6 ${s==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} flex flex-col overflow-hidden border shadow-lg rounded-xl justify-between transition-all duration-300`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mx-5 mt-2",children:[e.jsxs("h2",{className:`text-2xl font-bold ${s==="light"?"text-black":"text-white"}`,children:["Deployment ",i.deployment_id]}),e.jsxs("span",{className:`
                        ${i.status_data.status==="active"?"bg-green-500/20 text-green-400":i.status_data.status==="pending"?"bg-yellow-500/20 text-yellow-400":i.status_data.status==="terminated"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}
                        flex items-center text-sm font-semibold px-4 py-2 rounded-full
                      `,children:[e.jsx("span",{className:`
                          ${i.status_data.status==="active"?"bg-green-400":i.status_data.status==="pending"?"bg-yellow-400 animate-pulse":i.status_data.status==="terminated"?"bg-red-400":"bg-gray-400"}
                          w-4 h-4 rounded-full mr-4
                        `}),i.status_data.status]})]}),e.jsxs("div",{className:"flex flex-col my-8",children:[e.jsx("h2",{className:`p-2 m-2 text-2xl font-bold ${s==="light"?"text-black":"text-white"}`,children:"Deployment Information"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 p-2 m-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Deployment ID:"})," ",i.deployment_id]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Provider:"})," ",i.status_data.provider]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"CPU:"})," ",i.status_data.resources.cpu," cores"]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Memory:"})," ",i.status_data.resources.memory]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Storage:"})," ",i.status_data.resources.storage]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Wallet Address:"})," ",i.wallet_address]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Last Updated:"})," ",new Date(i.status_data.last_updated).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Timestamp:"})," ",new Date(i.timestamp).toLocaleString()]})]})]})]}),e.jsxs("footer",{className:"flex items-center justify-between p-5 border-t border-white/10 mt-4",children:[e.jsx("button",{onClick:()=>t(!1),className:`px-6 py-2 rounded-lg ${s==="light"?"text-black border-black/20":"text-white border-white/20"} font-bold bg-transparent border hover:bg-white/10 transition-colors`,children:"Back"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:u,disabled:f,className:`px-6 py-2 rounded-lg ${s==="light"?"text-black border-black/20":"text-white border-white/20"} font-bold bg-transparent border hover:bg-white/10 transition-colors disabled:opacity-50`,children:f?"Updating...":"Update"}),e.jsx("button",{onClick:()=>d(!0),className:`px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 ${s==="light"?"text-white":"text-black"} bg-red-500 hover:bg-red-600 hover:text-white shadow-lg shadow-red-200/20`,children:"Delete"})]})]})]})}),!n&&!i&&e.jsx("div",{className:"flex flex-col items-center justify-center py-20",children:e.jsx("p",{className:"text-gray-500",children:"No deployment details found"})}),i&&e.jsx(ye,{isOPen:m,onClose:()=>d(!1),image:`Deployment ${i.deployment_id}`,deployment_id:i.deployment_id,onAlert:(b,$)=>{j(b,$),b==="success"&&w()}}),e.jsx(G,{isOpen:!!p,onClose:()=>g(null),type:(p==null?void 0:p.type)||"",message:(p==null?void 0:p.message)||""})]})},$t=()=>{const{theme:t,toggleTheme:l,loading:s}=M(),{listDeployments:o,loading:h}=B(),[n,i]=a.useState([]),[y,m]=a.useState(""),[d,p]=a.useState(!1),[g,f]=a.useState(null),[c,x]=a.useState(1),[u,j]=a.useState(1),[w,b]=a.useState(!1),[$,S]=a.useState(!1),[P,C]=a.useState(null),[v,D]=a.useState(null),[A,_]=a.useState(!1),R=10;a.useEffect(()=>{F()},[c]);const F=async()=>{const r=await o(c,R);r?(i(r.deployments),j(Math.ceil(r.deployments.length/R)||1)):T("error","Failed to load deployments")},q=async()=>{_(!0),await F(),_(!1),T("success","Deployments refreshed")},z=n.filter(r=>r.image.toLowerCase().includes(y.toLowerCase())||r.status.toLowerCase().includes(y.toLowerCase())||r.deployment_id.toLowerCase().includes(y.toLowerCase())),U=z.slice((c-1)*R,c*R),I=()=>{c>1&&x(r=>r-1)},K=()=>{c<u&&x(r=>r+1)},T=(r,H)=>{D({type:r,message:H}),setTimeout(()=>D(null),1e4)},X=r=>{f(r),p(!0)},Z=r=>{C(r),S(!0)},Y=()=>{F()},J=()=>{F()};return s?null:e.jsxs("div",{className:"flex min-h-screen",children:[d&&e.jsx(Ct,{setIsDeploymentId:p,deploymentId:g}),!d&&e.jsxs("main",{className:"flex-1 p-8 flex flex-col",children:[e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h2",{className:`text-3xl font-bold ${t==="light"?"text-black":"text-white"}`,children:["Deployments",e.jsxs("span",{className:"text-gray-500 text-2xl",children:["(",n.length,")"]})]}),e.jsx("button",{onClick:q,disabled:A||h,className:"p-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",title:"Refresh deployments",children:e.jsx(E,{size:20,className:`${t==="light"?"text-black":"text-white"} ${A?"animate-spin":""}`})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:y,placeholder:"Search by image, status, or ID...",onChange:r=>{m(r.target.value),x(1)},className:"bg-[#1A1B3A] text-white border border-[#2d3748] rounded-xl py-2 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-[#00D2FF] transition-all w-72"}),e.jsx(ot,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})]}),h&&!A&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(E,{size:32,className:"animate-spin text-[#00D2FF]"})}),!h&&z.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:U.map(r=>e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`glassmorphism-card border ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} overflow-hidden shadow-lg rounded-xl p-6 flex flex-col justify-between transition-all duration-300 transform hover:-translate-y-1`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:`font-bold text-xl ${t==="light"?"text-black":"text-white"}`,children:r.image}),e.jsxs("span",{className:`
                          ${r.status==="active"?"bg-green-500/20 text-green-400":r.status==="pending"?"bg-yellow-500/20 text-yellow-400":r.status==="terminated"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}
                          flex items-center text-xs font-semibold px-2 py-1 rounded-full
                        `,children:[e.jsx("span",{className:`
                            ${r.status==="active"?"bg-green-400":r.status==="pending"?"bg-yellow-400 animate-pulse":r.status==="terminated"?"bg-red-400":"bg-gray-400"}
                            w-2 h-2 rounded-full mr-2
                          `}),r.status]})]}),e.jsxs("div",{className:"space-y-3 text-gray-500 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Deployment ID:"})," ",r.deployment_id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Created At:"})," ",new Date(r.created_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>X(r.deployment_id),className:`text-xs font-semibold text-gray-500 ${t==="light"?"":"hover:text-white"} transition-colors`,children:"View Details"}),e.jsx("button",{onClick:()=>Z(r),className:"text-xs font-semibold text-red-500 hover:text-red-600 transition-colors",children:"Delete"})]})]},r.deployment_id))}):!h&&e.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400 mt-16 flex-1",children:[e.jsx(Ze,{size:48,className:"mb-4 text-gray-500"}),e.jsx("p",{className:"text-lg font-semibold",children:"No deployments found"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create your first deployment to get started"})]}),z.length>0&&u>1&&e.jsx("div",{className:"mt-auto flex justify-center items-center sticky bottom-0 bg-[#0f0f1f] py-4",children:e.jsxs("nav",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:I,disabled:c===1,className:`p-2 rounded-lg transition-colors ${c===1?"text-gray-500 cursor-not-allowed":"text-white hover:bg-gray-300 hover:text-gray-800"}`,children:e.jsx(Ie,{size:24})}),e.jsxs("span",{className:"px-4 py-2 rounded-lg bg-[#00D2FF] text-gray-800 font-bold text-sm",children:[c," / ",u]}),e.jsx("button",{onClick:K,disabled:c===u,className:`p-2 rounded-lg transition-colors ${c===u?"text-gray-500 cursor-not-allowed":"text-white hover:bg-gray-300 hover:text-gray-800"}`,children:e.jsx(Be,{size:24})})]})})]}),e.jsx(N.button,{drag:!0,dragConstraints:{top:0,right:0,bottom:0,left:0},whileDrag:{scale:1.1},onClick:()=>b(!0),className:"fixed bottom-8 right-8 bg-[#00D2FF] hover:bg-cyan-500 text-white font-bold rounded-full h-16 w-16 flex items-center justify-center shadow-lg transform hover:scale-105 transition-all duration-300",children:e.jsx(xe,{size:24,className:"text-gray-100"})}),e.jsx(ge,{isOPen:w,onClose:()=>{b(!1),Y()},onAlert:T}),P&&e.jsx(ye,{isOPen:$,onClose:()=>{S(!1),C(null),J()},image:P.image,deployment_id:P.deployment_id,onAlert:T}),e.jsx(G,{isOpen:!!v,onClose:()=>D(null),type:(v==null?void 0:v.type)||"",message:(v==null?void 0:v.message)||""})]})},Dt=({isOPen:t,onClose:l,onAlert:s})=>{const[o,h]=a.useState(!1),{logout:n}=$e(),i=async()=>{h(!0),await n(),h(!1),l(),s("success","Loggedout successuf!")};return e.jsx(L,{children:t&&e.jsx(V,{children:e.jsxs(N.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},className:"w-[350px] max-w-4xl h-[350px] flex flex-col glassmorphism-card overflow-hidden border border-white/10 shadow-2xl rounded-xl duration-300",children:[e.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:"Confirm Logout"}),e.jsx("button",{onClick:l,disabled:o,className:"text-white/50 hover:text-white transition-colors",children:e.jsx(O,{size:24})})]}),e.jsx("main",{className:"flex-grow p-6 overflow-y-auto text-white space-y-6",children:e.jsxs("div",{className:"flex items-start gap-3 bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg",children:[e.jsx(me,{size:20,className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:"You are about to Logout. This action will disconnect your wallet connection with us."})]})}),e.jsxs("footer",{className:"flex items-center justify-between p-5 border-t border-white/10",children:[e.jsx("button",{onClick:l,disabled:o,className:"px-6 py-2 rounded-lg text-white font-bold bg-transparent border border-white/20 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:i,disabled:o,className:"px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-black bg-red-500 hover:bg-red-500 hover:text-white shadow-lg shadow-red-200/20 disabled:opacity-50",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Loging Out..."]}):"Logout"})]})]},"modal")})})},St=()=>{const{theme:t,toggleTheme:l,loading:s}=M();if(s)return null;const[o,h]=a.useState(!1),[n,i]=a.useState(!1),[y,m]=a.useState("example@gmail.com"),[d,p]=a.useState(""),[g,f]=a.useState(!1),[c,x]=a.useState(null),u=async()=>{i(!0),await new Promise(w=>setTimeout(w,1e4)),i(!1),x(null),x({type:"error",message:"Please try again later!"}),h(!1)},j=(w,b)=>{x({type:w,message:b}),setTimeout(()=>x(null),1e4)};return e.jsxs("div",{className:"flex min-h-screen",children:[e.jsxs("main",{className:"flex-1 p-8 flex flex-col",children:[e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-between items-center mb-8",children:e.jsx("h2",{className:`text-3xl font-bold ${t==="light"?"text-black":"text-white"}`,children:"Settings"})}),e.jsxs("section",{children:[o&&e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`glassmorphism-card ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} p-4 mx-8 flex flex-col  overflow-hidden border shadow-lg rounded-xl p-6 flex flex-col justify-between transition-all duration-300`,children:e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${t==="light"?"text-black":"text-white"}`,children:"Update"}),e.jsxs("main",{children:[e.jsxs("div",{className:"m-4",children:[e.jsx("label",{className:`block  ${t==="light"?"text-black/70":"text-white/70"} mb-1`,children:"Email"}),e.jsx("input",{type:"email",value:y,onChange:w=>m(w.target.value),className:`w-full ${t==="light"?"bg-transparent border-black/10 text-black ":"bg-gray-900 border-white/10 text-white "} px-3 py-2 rounded  border `})]}),e.jsxs("div",{className:"m-4",children:[e.jsx("label",{className:`block ${t==="light"?"text-black/70":"text-white/70"} mb-1`,children:"Phone"}),e.jsx("input",{type:"number",value:d,onChange:w=>p(w.target.value),className:`w-full ${t==="light"?"bg-transparent border-black/10 text-black ":"bg-gray-900 border-white/10 text-white "} px-3 py-2 rounded  border `})]})]}),e.jsxs("footer",{className:"flex items-center justify-between p-5",children:[e.jsx("button",{onClick:()=>h(!1),className:`px-6 py-2 rounded-lg ${t==="light"?"text-black border-black/20":"text-white border-white/20"}  font-bold bg-transparent border hover:bg-white/10 transition-colors disabled:opacity-50`,children:"Cancel"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{onClick:u,disabled:n,className:"px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-black bg-cyan-500 hover:bg-cyan-600 hover:text-white shadow-lg shadow-cyan-200/20 disabled:opacity-50",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Updating..."]}):"Update"})})]})]})}),!o&&e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`glassmorphism-card ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} p-4 mx-8 flex flex-col  overflow-hidden border shadow-lg rounded-xl p-6 flex flex-col justify-between transition-all duration-300`,children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mx-3 mt-2",children:[e.jsx("h2",{className:`text-2xl font-bold ${t==="light"?"text-black":"text-white"}`,children:"Profile"}),e.jsxs("div",{className:`flex ${t==="light"?"bg-gray-400":"bg-gray-800"} cursor-pointer items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-bold tracking-[0.015em] transition-colors hover:bg-opacity-80`,children:[e.jsx(se,{size:24,className:"text-cyan-800"}),e.jsx("span",{className:`truncate  ${t==="light"?"text-black":"text-white"}`,children:"0x123...abc"})]})]}),e.jsx("div",{className:"flex flex-col my-8 my-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 p-2 m-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${t==="light"?"text-black":"text-white"}`,children:"Email:"})," example@gmail.con"]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${t==="light"?"text-black":"text-white"}`,children:"Phone:"})," Not Found"]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${t==="light"?"text-black":"text-white"}`,children:"Created At:"})," 2025-09-01T20:58:00.123456Z"]})]})}),e.jsxs("footer",{className:"flex items-center justify-between p-5",children:[e.jsx("div",{className:""}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>h(!0),className:`px-6 py-2 rounded-lg ${t==="light"?"text-black border-black/20":"text-white border-white/20"}  font-bold bg-transparent border hover:bg-white/10 transition-colors disabled:opacity-50`,children:"Update"}),e.jsx("button",{onClick:()=>f(!0),className:`px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 ${t==="light"?"text-white":"text-black"} bg-red-500 hover:bg-red-600 hover:text-white shadow-lg shadow-red-200/20 disabled:opacity-50`,children:"Logout"})]})]})]})})]})]}),e.jsx(G,{isOpen:!!c,onClose:()=>x(null),type:(c==null?void 0:c.type)||"",message:(c==null?void 0:c.message)||""}),e.jsx(Dt,{isOPen:g,onClose:()=>f(!1),onAlert:j})]})},_t=()=>{const{theme:t,loading:l}=M(),[s,o]=a.useState(!1),[h,n]=a.useState(""),[i,y]=a.useState("keplr"),[m,d]=a.useState("idle"),[p,g]=a.useState(""),[f,c]=a.useState("");if(a.useEffect(()=>{(async()=>{const b=await Q.getWallet();b&&(b==="keplr"||b==="leap")&&y(b)})();const w=new De;return w.onMessage((b,$)=>{console.log("Received message:",b,$),b==="payment_result"&&($.status==="success"?(d("success"),g("Payment successful!"),c($.txHash||""),n(""),setTimeout(()=>{o(!1),d("idle"),g(""),c("")},3e3)):$.status==="failed"&&(d("failed"),g($.error||"Payment failed")))}),()=>{w.cleanup()}},[]),l)return null;const x=async()=>{if(!h||isNaN(Number(h))||Number(h)<=0){d("failed"),g("Please enter a valid amount");return}d("processing"),g("Opening payment window...");try{await Q.setWallet(i);const j=await chrome.tabs.query({url:`${ae}/*`});let w;if(j.length>0?(w=j[0],await chrome.tabs.update(w.id,{active:!0})):(w=await chrome.tabs.create({url:ae,active:!1}),g("Loading payment page..."),await new Promise($=>setTimeout($,2e3))),!(w!=null&&w.id)){d("failed"),g("Error: Could not create web app tab");return}g("Connecting to wallet...");const b=await Se(w.id,{action:"open_payment",data:{amount:h,wallet:i}},5,500);(b==null?void 0:b.status)==="payment_opened"?g("Waiting for wallet confirmation..."):(d("failed"),g("Failed to open payment window"))}catch{d("failed"),g("Failed to open payment window")}},u=()=>{d("idle"),g(""),c("")};return e.jsx("div",{className:"flex min-h-screen",children:e.jsxs("main",{className:"flex-1 p-8 flex flex-col",children:[e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-between items-center mb-8",children:e.jsx("h2",{className:`text-3xl font-bold ${t==="light"?"text-black":"text-white"}`,children:"Payments Overview"})}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:`flex ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} justify-between w-full mt-8 gap-3 px-4 py-4 text-md font-medium text-white glassmorphism-card border shadow-lg rounded-xl`,children:[e.jsx("div",{className:"flex justify-between",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex text-cyan-500 rounded-xl bg-black/20 shrink-0 p-4 m-2",children:e.jsx(se,{size:26})}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("p",{className:`text-lg font-bold ${t==="light"?"text-black":"text-white"}`,children:"123.45 AKT"}),e.jsx("p",{className:"text-sm text-gray-500",children:"AKT Balance"})]})]})}),e.jsxs("div",{className:"relative z-50",children:[e.jsxs("button",{onClick:()=>{o(!s),s||u()},disabled:m==="processing",className:`flex mt-4 min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-2xl h-10 px-7 bg-cyan-500 ${t==="light"?"text-white":"text-black"} text-base font-bold leading-normal tracking-wide shadow-lg shadow-cyan-500/20 hover:bg-cyan-600 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed gap-2`,children:[e.jsx("span",{className:"truncate",children:"Add Funds"}),e.jsx(Ue,{size:18,className:`transition-transform duration-200 ${s?"rotate-180":""}`})]}),e.jsx(L,{children:s&&e.jsxs(N.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:`absolute right-0 mt-2 w-80 ${t==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} border rounded-xl shadow-2xl p-4 z-50`,children:[p&&e.jsxs(N.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-lg flex items-start gap-3 ${m==="processing"?t==="light"?"bg-blue-100 text-blue-800":"bg-blue-900/30 text-blue-300":m==="success"?t==="light"?"bg-green-100 text-green-800":"bg-green-900/30 text-green-300":t==="light"?"bg-red-100 text-red-800":"bg-red-900/30 text-red-300"}`,children:[m==="processing"&&e.jsx(ne,{className:"w-5 h-5 animate-spin flex-shrink-0 mt-0.5"}),m==="success"&&e.jsx(ee,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),m==="failed"&&e.jsx(de,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:p}),f&&e.jsxs("p",{className:"text-xs mt-1 break-all opacity-75",children:["Tx: ",f.slice(0,20),"..."]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Select Wallet"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y("keplr"),disabled:m==="processing",className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${i==="keplr"?"bg-cyan-500 text-white":t==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Keplr"}),e.jsx("button",{onClick:()=>y("leap"),disabled:m==="processing",className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${i==="leap"?"bg-cyan-500 text-white":t==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Leap"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:h,onChange:j=>n(j.target.value),placeholder:"0.00",step:"0.01",min:"0",disabled:m==="processing",className:`w-full ${t==="light"?"bg-gray-50 border-gray-300 text-gray-900":"bg-gray-700 border-gray-600 text-white"} border rounded-lg py-2 px-3 pr-12 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent disabled:opacity-50`}),e.jsx("div",{className:`absolute right-3 top-1/2 -translate-y-1/2 ${t==="light"?"text-gray-600":"text-gray-400"} font-semibold text-sm`,children:"AKT"})]})]}),e.jsx("button",{onClick:x,disabled:m==="processing"||!h||m==="success",className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold py-2.5 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg flex items-center justify-center gap-2",children:m==="processing"?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):m==="success"?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-4 h-4"}),"Payment Completed"]}):"Pay Now"})]})})]})]}),e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-8 grid grid-cols-2 gap-4",children:e.jsx("div",{className:""})}),s&&e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold tracking-[-0.015em] ${t==="light"?"text-black":"text-white"}`,children:"Recent Activity"}),e.jsx("br",{}),e.jsx(ue,{})]})]})})},te=[{path:"dashboard",component:kt,title:"Dashboard"},{path:"deployments",component:$t,title:"Deployments"},{path:"payments",component:_t,title:"Payments"},{path:"settings",component:St,title:"Settings"}],Mt=()=>{const{theme:t,toggleTheme:l,loading:s}=M(),{currentRoute:o,navigate:h}=pe();return s?null:e.jsx("aside",{className:`w-64 ${t==="light"?"bg-gray-100 border-gray-200":"bg-gray-900 border-gray-800"} shadow-sm border-r`,children:e.jsx("nav",{className:"mt-8",children:e.jsx("div",{className:"px-4",children:te.filter(n=>n.title.toLowerCase()!=="auth").map(n=>e.jsxs(N.a,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},onClick:()=>h(n.path),className:`flex items-center gap-4 rounded-lg px-3 py-2 my-2 text-lg transition-colors hover:bg-opacity-80 cursor-pointer ${o===n.path?" bg-[#FF4444] font-semibold font-medium":" font-medium"}`,children:[e.jsx("div",{className:`${t==="light"?"text-black":"text-white"}`,children:e.jsxs("span",{children:[n.title==="Dashboard"&&e.jsx(Qe,{size:18,className:`${t==="light"?"text-black":"text-white"}`}),n.title==="Deployments"&&e.jsx(he,{size:18,className:`${t==="light"?"text-black":"text-white"}`}),n.title==="Payments"&&e.jsx(Ke,{size:18,className:`${t==="light"?"text-black":"text-white"}`}),n.title==="Settings"&&e.jsx(xt,{size:18,className:`${t==="light"?"text-black":"text-white"}`})]})}),e.jsx("span",{className:`${t==="light"?"text-black":"text-white"}`,children:n.title})]},n.path))})})})},Pt=({children:t})=>{const{theme:l,toggleTheme:s,loading:o}=M();return o?null:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(bt,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Mt,{}),e.jsx("main",{className:` flex-1 p-6 ${l==="light"?"bg-gray-100":"bg-gray-900"} `,children:t})]})]})},At=()=>{const{currentRoute:t}=pe(),l=te.find(o=>o.path===t);if(!l){const o=te[0].component;return e.jsx(o,{})}const s=l.component;return e.jsx(s,{})};class Rt extends ce.Component{constructor(l){super(l),this.state={hasError:!1}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,s){console.error("ErrorBoundary caught an error:",l,s)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"An unexpected error occurred. Please refresh the page and try again."}),this.state.error&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-gray-400 cursor-pointer",children:"Error details"}),e.jsx("pre",{className:"text-xs text-gray-400 mt-1 whitespace-pre-wrap",children:this.state.error.toString()})]})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Refresh Page"})]})}):this.props.children}}const Ft=()=>e.jsx(Rt,{children:e.jsx(_e,{children:e.jsx(Pt,{children:e.jsx(At,{})})})});Me.createRoot(document.getElementById("root")).render(e.jsx(ce.StrictMode,{children:e.jsx(Pe,{children:t=>e.jsx(Ae,{logout:t,children:e.jsx(Ft,{})})})}));
